(this["webpackJsonpfavorite-recipes"]=this["webpackJsonpfavorite-recipes"]||[]).push([[0],{23:function(e,t,a){e.exports=a(38)},28:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(19),l=a.n(c),o=(a(28),a(2)),i=a.n(o),u=a(7),s=a(4),m=a(20),p=a(12),f=a(22),d=a(6),E=a(3),h=[{id:1,url:"/recipes",text:"recipes"}],b=[{id:1,url:"/login",text:"login"},{id:2,url:"/signup",text:"signup"}],v=[{id:1,url:"https://www.linkedin.com/in/andremssmoraes/",icon:r.a.createElement(p.d,null)},{id:2,url:"https://github.com/andremadureira1993",icon:r.a.createElement(p.c,null)}],g=a(11),j=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useRef)(null),o=Object(n.useRef)(null),i=Object(E.f)();Object(n.useEffect)((function(){var e=o.current.getBoundingClientRect().height;l.current.style.height=a?"".concat(e,"px"):"0px"}),[a]);return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-center"},r.a.createElement("div",{className:"nav-header"},r.a.createElement("h3",null,"Favorite Recipes"),r.a.createElement("button",{className:"nav-toggle",onClick:function(){c(!a)}},r.a.createElement(p.b,null))),r.a.createElement("div",{className:"links-container",ref:l},r.a.createElement("ul",{className:"links",ref:o},null!==localStorage.getItem("jwt")&&void 0!==localStorage.getItem("jwt")?h.map((function(e){var t=e.id,a=e.url,n=e.text;return r.a.createElement("li",{key:t},r.a.createElement(g.b,{to:a},n))})):b.map((function(e){var t=e.id,a=e.url,n=e.text;return r.a.createElement("li",{key:t},r.a.createElement(g.b,{to:a},n))})))),r.a.createElement("ul",{className:"social-icons"},v.map((function(e){var t=e.id,a=e.url,n=e.icon;return r.a.createElement("li",{key:t},r.a.createElement("a",{href:a},n))}))),r.a.createElement("ul",{className:"social-icons"},null!=localStorage.getItem("jwt")?r.a.createElement("div",null,r.a.createElement("button",{type:"submit",onClick:function(e){e.preventDefault(),localStorage.clear(),i.push("/login")}},"Logout ",r.a.createElement(d.c,null))):r.a.createElement("div",null))))},N=a.p+"static/media/recipe2.69ea8f8d.jpg";var y=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(!1),o=Object(s.a)(l,2),h=o[0],b=o[1],v=Object(n.useState)([{}]),g=Object(s.a)(v,2),y=g[0],k=g[1],O=Object(n.useState)([{}]),w=Object(s.a)(O,2),S=w[0],C=w[1],x=Object(n.useState)(!0),I=Object(s.a)(x,2),T=(I[0],I[1]),R=Object(E.f)();function D(){return z.apply(this,arguments)}function z(){return(z=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://favorite-recipe-server.herokuapp.com/recipes?isVegetarian=false",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){k(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return L.apply(this,arguments)}function L(){return(L=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("https://favorite-recipe-server.herokuapp.com/favorites",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){return e.json()})).then((function(e){C(e)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,D();case 3:return e.next=5,B();case 5:b(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),R.push("/createrecipe");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),fetch("https://favorite-recipe-server.herokuapp.com/recipes/"+G,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(e){var n=a+1,r=a-1;a>0&&n<=a?Object(m.a)("value"):c(a>0&&r<=a&&r>0?n:0),window.location.reload(),A(t)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://favorite-recipe-server.herokuapp.com/favorites/"+G,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}});case 3:A(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://favorite-recipe-server.herokuapp.com/favorites/"+G,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")}}).then((function(){R.push("/recipes")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=y[a],G=F.id,M=F.ingredients,W=F.dish,Y=F.cookingInstructions,q=F.dateAndTimeOfCreation,H=F.isVegetarian,K=F.totalPersonSuitable;return r.a.createElement("div",{style:{backgroundImage:"url(".concat(N,")")}},r.a.createElement(j,null),h?r.a.createElement("section",{className:"section"},r.a.createElement("button",{type:"button",className:"btn-recipe-create",onClick:P},"Create Recipe",r.a.createElement(d.d,null)),r.a.createElement("button",{type:"button",className:"btn-recipe-update",onClick:A},"Refresh Recipes",r.a.createElement(d.d,null)),r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,"recipes"),r.a.createElement("div",{className:"underline"})),r.a.createElement("div",null),r.a.createElement("div",{className:"jobs-center"},r.a.createElement("div",{className:"btn-container"},y.map((function(e,t){return r.a.createElement("button",{key:e.id,onClick:function(){c(t),T(!1)},className:"job-btn ".concat(t===a&&"active-btn")},e.dish)}))),r.a.createElement("article",{className:"job-info"},r.a.createElement("h3",null,W),r.a.createElement("button",{className:"job-btn ".concat(G===a&&"active-btn"),onClick:J},r.a.createElement(d.a,{color:"green"})),S.map((function(e,t){if(e.recipe.dish===W)return r.a.createElement("div",{key:t},r.a.createElement("button",{key:t,className:"job-btn ".concat(G===a&&"active-btn"),onClick:U},r.a.createElement(d.e,{color:"red"})," Remove from favorites"))})),r.a.createElement("h5",null,H?r.a.createElement("p",null,"Vegan"):r.a.createElement("p",null,"Not Vegan")),r.a.createElement("h5",null,"Creation date ",q),r.a.createElement("h5",null,"total of favorites:"," ",null!=K?K:0),r.a.createElement("p",{className:"job-date"},"Ingredients List"),M.map((function(e,t){return r.a.createElement("div",{key:t,className:"job-desc"},r.a.createElement(p.a,{className:"job-icon"}),r.a.createElement("p",null,e))})),r.a.createElement("p",{className:"job-date"},"Cooking Instruction"),r.a.createElement("p",{className:"job-date"},Y),r.a.createElement("button",{type:"button",className:"btn",onClick:V},"Remove Recipe ",r.a.createElement(f.a,{color:"red"}))))):r.a.createElement("section",{className:"section"},r.a.createElement("button",{type:"button",className:"btn-recipe-create",onClick:P},"Create Recipe",r.a.createElement(d.d,null)),r.a.createElement("button",{type:"button",className:"btn-recipe-update",onClick:A},"Refresh Recipes",r.a.createElement(d.d,null)),r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,"recipes"),r.a.createElement("div",{className:"underline"}))))},k=a.p+"static/media/recipe5.e79c7b96.jpg";var O=function(){var e=Object(E.f)(),t=Object(n.useState)(""),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],m=i[1],p=Object(n.useState)(""),f=Object(s.a)(p,2),h=f[0],b=f[1],v=Object(n.useState)(""),g=Object(s.a)(v,2),N=g[0],y=g[1];return r.a.createElement("div",{style:{backgroundImage:"url(".concat(k,")")}},r.a.createElement(j,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"title"},r.a.createElement("h2",null,"create recipe"),r.a.createElement("div",{className:"underline"})),r.a.createElement("form",{onSubmit:function(t){var a=u.split(","),n="YES"===N.toUpperCase,r=JSON.stringify({dish:c,isVegetarian:n,ingredients:a,cookingInstructions:h});t.preventDefault(),fetch("https://favorite-recipe-server.herokuapp.com/recipes",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("jwt")},body:r}).then((function(t){e.push("/recipes")}))},className:"form-centralized"},r.a.createElement("label",null,r.a.createElement("p",null,"Recipe Name"),r.a.createElement("input",{type:"text",name:"Recipe",onChange:function(e){return l(e.target.value)},className:"input-rounded"})),r.a.createElement("label",null,r.a.createElement("p",null,"Ingredients"),r.a.createElement("input",{type:"text",name:"Ingredients",onChange:function(e){return m(e.target.value)},placeholder:"Water,Coffe",className:"input-rounded"})),r.a.createElement("label",null,r.a.createElement("p",null,"Cooking details"),r.a.createElement("input",{type:"text",name:"Cooking details",onChange:function(e){return b(e.target.value)},className:"input-rounded"})),r.a.createElement("label",null,r.a.createElement("p",null,"Vegetarian/Vegan?"),r.a.createElement("input",{type:"text",name:"vegetarian",onChange:function(e){return y(e.target.value)},placeholder:"yes/no",className:"input-rounded"})),r.a.createElement("button",{type:"submit",className:"btn-login1"},"Login ",r.a.createElement(d.b,null))),r.a.createElement("br",null)))};var w=function(){return r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"hero-center"},r.a.createElement("article",{className:"hero-info"},r.a.createElement("h1",null,"404 - Not Found"),r.a.createElement("p",null,"Sorry, I couldn't found the page you'r looking for. But I got the logs and I'll take check it."))))},S=a.p+"static/media/recipe.76b0036b.jpg";function C(e){return x.apply(this,arguments)}function x(){return(x=Object(u.a)(i.a.mark((function e(t){var a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.username,n=t.password,r=JSON.stringify({username:a,password:n}),e.abrupt("return",fetch("https://favorite-recipe-server.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:r}).then((function(e){return e.json()})).then((function(e){console.log(e),console.log(e.headers);var t=e.accessToken;localStorage.setItem("jwt",t)})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){e.setToken;var t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(),m=Object(s.a)(o,2),p=m[0],f=m[1],h=Object(E.f)(),b=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,C({username:c,password:p});case 3:null!==localStorage.getItem("jwt")&&h.push("/recipes");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{backgroundImage:"url(".concat(S,")")}},r.a.createElement(j,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"underline"})),r.a.createElement("form",{onSubmit:b,className:"form-centralized"},r.a.createElement("label",null,r.a.createElement("p",null,"Username"),r.a.createElement("input",{type:"text",className:"input-rounded",onChange:function(e){return l(e.target.value)}})),r.a.createElement("label",null,r.a.createElement("p",null,"Password"),r.a.createElement("input",{type:"password",onChange:function(e){return f(e.target.value)},className:"input-rounded"})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn-login1"},"Login ",r.a.createElement(d.b,null))),r.a.createElement("br",null))))}var T=a.p+"static/media/recipe3.3feaab0f.jpg";function R(e){e.setToken;var t=Object(n.useState)(),a=Object(s.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(),m=Object(s.a)(o,2),p=m[0],f=m[1],h=Object(E.f)(),b=function(){var e=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,fetch("https://favorite-recipe-server.herokuapp.com/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c,password:p})}).then((function(e){h.push("/login")}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{backgroundImage:"url(".concat(T,")")}},r.a.createElement(j,null),r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"title"},r.a.createElement("h1",null,"SignUp"),r.a.createElement("div",{className:"underline"})),r.a.createElement("form",{onSubmit:b,className:"form-centralized"},r.a.createElement("label",null,r.a.createElement("p",null,"Username"),r.a.createElement("input",{type:"text",className:"input-rounded",onChange:function(e){return l(e.target.value)}})),r.a.createElement("label",null,r.a.createElement("p",null,"Password"),r.a.createElement("input",{type:"password",className:"input-rounded",onChange:function(e){return f(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit",className:"btn-login1"},"Login ",r.a.createElement(d.b,null))),r.a.createElement("br",null))))}var D=function(){return r.a.createElement(g.a,null,r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",component:I}),r.a.createElement(E.a,{path:"/recipes",component:y}),r.a.createElement(E.a,{path:"/createrecipe",component:O}),r.a.createElement(E.a,{path:"/login",component:I}),r.a.createElement(E.a,{path:"/signup",component:R}),r.a.createElement(E.a,{component:w})))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.d3b98920.chunk.js.map